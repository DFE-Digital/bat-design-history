{% extends "base.njk" %}

{% from "article/macro.njk" import appArticle %}
{% from "related/macro.njk" import appRelated %}
{% from "new-screenshots/macro.njk" import newScreenshots %}
{% from "prose/macro.njk" import appProse %}

{% block content %}
  {% call appArticle({
    header: {
      title: title | widont,
      tag: status
    },
    footer: {
      date: page.date,
      modified: modified if modified
    }
  }) %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {{ appProse({
        prose: content
      }) }}

      {% if screenshots %}
        {% for collection in screenshots %}
          {{ newScreenshots({
            title: collection.title,
            items: collection.items
          }) }}
        {% else %}
          {{ newScreenshots({
            title: screenshots.title,
            items: screenshots.items
          }) if screenshots }}
        {% endfor %}
      {% endif %}
    </div>

    {% if related %}
    <div class="govuk-grid-column-one-third">
      {{ appRelated({
        title: related.title or "Related links",
        items: related.items
      }) }}
    </div>
    {% endif %}
  </div>
  {% endcall %}
{% endblock %}
